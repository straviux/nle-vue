import{d as S,e as E,r as M,o as s,c as o,a as t,w as O,v as V,b as R,u as i,t as e,f as r,F as m,g as k,h as v,n as T}from"./index-0c9e1728.js";const A={class:"swap swap-rotate"},D={key:0,id:"printContent"},I={class:"printHeader hidden -mt-2"},B=t("div",{class:"text-center"},[t("span",{class:"font-semibold text-2xl uppercase"},"2022 National and Local Election Results")],-1),L={class:"px-4 py-2 mx-auto"},j={class:"headerTable"},G=t("td",{class:"w-[120px] font-semibold"},"DATE GENERATED:",-1),H={class:"uppercase indent-0.5"},Y=t("td",{class:"w-[120px] font-semibold"},"REPORT LEVEL:",-1),z={class:"uppercase indent-0.5"},F={key:0},J=t("td",{class:"w-[120px] font-semibold"},"MUNICIPALITY:",-1),U={class:"indent-0.5"},q={key:1},W=t("td",{class:"w-[120px] font-semibold"},"POSITION:",-1),$={class:"indent-0.5"},K=t("hr",null,null,-1),Q=t("div",{class:"no-print py-4"},null,-1),X={class:"bg-white px-6 lg:px-20 py-2 mx-auto relative uppercase"},Z={key:0,class:"mb-2"},tt={key:0},et={class:"py-0 font-semibold text-gray-600 text-xl md:text-2xl lg:text-3xl whitespace-normal md:whitespace-nowrap",colspan:"2"},st={key:1},ot={class:"py-0 font-semibold text-gray-600 text-xl md:text-2xl lg:text-3xl",colspan:"2"},nt={class:"table table-compact table-zebra"},at={key:0,class:""},lt=t("td",{class:"py-0 w-[140px] text-xl md:text-2xl lg:text-3xl text-gray-600 font-semibold whitespace-normal md:whitespace-nowrap",colspan:"2"}," Province of Palawan ",-1),it=[lt],dt={key:0},rt={class:"py-0 font-semibold text-gray-600 text-xl md:text-2xl lg:text-3xl whitespace-normal md:whitespace-nowrap",colspan:"2"},ct={key:1},_t={class:"py-0 font-semibold text-gray-600 text-xl md:text-2xl lg:text-3xl",colspan:"2"},xt={key:2},pt=t("td",{class:"py-0 w-[140px] text-gray-600 text-sm md:text-base font-semibold"}," Barangay: ",-1),mt={class:"py-0 px-2 font-semibold text-sm md:text-base text-gray-600"},ht={key:3},gt={class:"py-0 w-[140px] text-[20px] text-gray-600 font-semibold whitespace-nowrap",colspan:"2"},ut={key:0},yt={key:1},bt={key:2},ft=t("td",{class:"py-0 w-[140px] text-gray-600 text-sm md:text-base font-semibold"}," Registered Voters: ",-1),vt={class:"py-0 px-2 font-semibold text-gray-600"},wt=t("td",{class:"py-0 w-[140px] text-gray-600 text-sm md:text-base font-semibold"}," Total Turnout: ",-1),kt={class:"py-0 px-2 font-semibold text-gray-600"},Rt={class:"font-normal text-sm md:text-base"},Et={key:4},Tt=t("td",{class:"py-0 w-[140px] text-gray-600 text-sm md:text-base font-semibold"}," JPM Members: ",-1),Ct={class:"py-0 px-2 font-semibold text-gray-600"},Nt={class:"font-normal text-sm md:text-base"},Pt={class:"mt-2 lg:ml-4 contentTable"},St={class:"table w-full table-compact mb-2"},Mt={colspan:"5",class:"bg-gray-100 text-gray-600"},Ot={class:"text-lg md:text-xl font-semibold"},Vt={colspan:"5",class:"bg-gray-50 text-gray-600 pl-2"},At={colspan:"5",class:"py-0 bg-slate-50 text-gray-600 pl-4"},Dt={class:"flex align-bottom"},It=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"},"Registered Voters:")],-1),Bt={class:"font-semibold text-[14px]"},Lt={class:"flex align-bottom"},jt=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," Total Turnout:")],-1),Gt={class:"font-semibold text-[14px]"},Ht={class:"font-normal text-[12px] hidden md:inline-block"},Yt={key:0,class:"flex align-bottom"},zt=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," JPM Members:")],-1),Ft={key:0,class:"font-semibold text-[14px]"},Jt={class:"font-normal text-[12px]"},Ut=t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes Difference "),t("th",{class:"text-right text-xs bg-transparent text-gray-600 hidden md:block"}," Percentage ")],-1),qt={class:"p-1 md:p-2 text-[10px] md:text-xs text-gray-500 mb-4"},Wt={class:"font-mono text-[11px] md:text-sm md:p-2"},$t={class:"text-right text-[11px] md:text-sm md:p-2"},Kt={class:"font-normal text-[10px] md:hidden text-gray-500"},Qt={class:"text-right text-[11px] md:text-sm md:p-2"},Xt={key:0},Zt={key:1},te={class:"text-right text-[11px] md:text-sm md:p-2 hidden md:block"},ee=t("tr",null,[t("td",{colspan:"4",class:"py-2"})],-1),se=t("thead",null,[t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs md:text-lg bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs md:text-lg bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs md:text-lg bg-transparent text-gray-600"}," Votes Difference "),t("th",{class:"text-right text-xs md:text-lg bg-transparent text-gray-600 hidden md:block"}," Percentage ")])],-1),oe={class:"p-1 md:p-2 text-[10px] md:text-sm lg:text-base text-gray-500 mb-4"},ne={class:"font-mono text-[11px] md:text-sm lg:text-xl md:p-2 text-gray-600"},ae={class:"text-right text-[11px] md:text-base lg:text-lg md:p-2"},le={class:"font-normal text-[10px] md:hidden no-print text-gray-500"},ie={class:"text-right text-[11px] md:text-base lg:text-lg md:p-2"},de={key:0},re={key:1},ce={class:"text-right text-[11px] md:text-base lg:text-lg md:p-2 hidden md:block"},_e={class:"tfooter"},xe={key:0},pe=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-base lg:text-lg",colspan:"2"}," Total ",-1),me={class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-base lg:text-lg"},he=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-base lg:text-lg"},null,-1),ge=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-base lg:text-lg hidden md:block"}," 100% ",-1),ue=t("div",{class:"divider"},null,-1),ve={__name:"Results",setup(ye){const d=S(),C=new Date().toLocaleDateString("en-PH"),h=E(!1);function g(x,_){return(100*x/_).toFixed(2)}function b(x){return x.sort((_,p)=>{let a=parseInt(_.total_votes),y=parseInt(p.total_votes);return a<y?1:a>y?-1:0}),x}function c(x){return x.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",")}function N(){let _=0;const p=document.querySelectorAll(".print-content");for(let a=0;a<p.length;a++){let y=p[a].offsetHeight;a==0&&(y-=400),_>1024&&(p[a].classList.add("break-page"),_=0),_+=y}return setTimeout(function(){window.print()},500),!1}const P=E([]);return document.addEventListener("keydown",function(x){x.key==="j"&&(h.value=!h.value)}),(x,_)=>{const p=M("mdicon");return s(),o(m,null,[t("label",A,[O(t("input",{type:"checkbox","onUpdate:modelValue":_[0]||(_[0]=a=>h.value=a),onClick:_[1]||(_[1]=a=>h.value=!h.value)},null,512),[[V,h.value]]),R(p,{name:"eye-outline",class:"swap-on text-gray-50"}),R(p,{name:"eye-off-outline",class:"swap-off text-gray-50"})]),i(d)?(s(),o("div",D,[t("div",I,[B,t("div",L,[t("table",j,[t("tr",null,[G,t("td",H,e(i(C)),1)]),t("tr",null,[Y,t("td",z,e(i(d).report_level),1)]),i(d).report_level=="municipality"?(s(),o("tr",F,[J,t("td",U,e(i(d).municipality.join(", ")),1)])):r("",!0),i(d).report_level!="province"?(s(),o("tr",q,[W,t("td",$,e(i(d).position.join(", ")),1)])):r("",!0)])]),K]),Q,t("div",X,[i(d).report_level=="barangay"?(s(),o("div",Z,[/CITY/i.test(i(d).municipality)?(s(),o("div",st,[t("div",ot,e(i(d).municipality),1)])):(s(),o("div",tt,[t("div",et," Municipality of "+e(i(d).municipality),1)]))])):r("",!0),(s(!0),o(m,null,k(i(d).result,(a,y)=>(s(),o("div",{key:y,ref_for:!0,ref_key:"tableContainer",ref:P,class:"print-content"},[t("div",null,[t("table",nt,[t("tbody",null,[i(d).report_level=="province"?(s(),o("tr",at,it)):r("",!0),i(d).report_level=="municipality"?(s(),o(m,{key:1},[/CITY/i.test(a.municipality)?(s(),o("tr",ct,[t("td",_t,e(a.municipality),1)])):(s(),o("tr",dt,[t("td",rt," Municipality of "+e(a.municipality),1)]))],64)):r("",!0),i(d).report_level=="barangay"?(s(),o("tr",xt,[pt,t("td",mt,e(a.barangay),1)])):r("",!0),i(d).report_level=="district"?(s(),o("tr",ht,[t("td",gt,[i(d).district==1?(s(),o("span",ut,"1st Congressional district of Palawan")):r("",!0),i(d).district==2?(s(),o("span",yt,"2nd Congressional district of Palawan")):r("",!0),i(d).district==3?(s(),o("span",bt,"3rd Congressional district of Palawan")):r("",!0)])])):r("",!0),t("tr",null,[ft,t("td",vt,e(c(a.result.stats[0].reg_voters)),1)]),t("tr",null,[wt,t("td",kt,[v(e(c(a.result.stats[0].total_turnout))+" ",1),t("span",Rt," ("+e(g(a.result.stats[0].total_turnout,a.result.stats[0].reg_voters))+"%)",1)])]),h.value?(s(),o("tr",Et,[Tt,t("td",Ct,[v(e(c(a.jpm_members.total_members))+" ",1),t("span",Nt," ("+e(g(a.jpm_members.total_members,a.result.stats[0].reg_voters))+"%)",1)])])):r("",!0)])])]),(s(!0),o(m,null,k(a.result.turnouts,(n,be)=>(s(),o("div",Pt,[t("table",St,[t("thead",null,[t("tr",null,[t("th",Mt,[t("p",Ot,e(n.position),1)])])]),i(d).report_level=="province"&&(n.position=="CONGRESSMAN"||n.position=="BOARD MEMBER")?(s(!0),o(m,{key:0},k(n.district,(l,u)=>(s(),o(m,null,[t("thead",null,[t("tr",null,[t("th",Vt," District "+e(l.id),1)]),t("tr",null,[t("th",At,[t("div",Dt,[It,t("p",Bt,e(c(l.reg_voters)),1)]),t("div",Lt,[jt,t("p",Gt,[v(e(c(l.total_turnout))+" ",1),t("span",Ht,"("+e(g(l.total_turnout,l.reg_voters))+"%)",1)])]),h.value?(s(),o("div",Yt,[zt,l.jpm_members?(s(),o("p",Ft,[v(e(c(l.jpm_members.total_members))+" ",1),t("span",Jt,"("+e(g(l.jpm_members.total_members,l.reg_voters))+"%)",1)])):r("",!0)])):r("",!0)])]),Ut]),t("tbody",null,[(s(!0),o(m,null,k(b(l.candidates),(f,w)=>(s(),o("tr",{class:T(n.position=="CONGRESSMAN"&&w==0?"font-bold":"")},[t("td",qt,e(w+1)+". ",1),t("td",Wt,e(f.candidate_name),1),t("td",$t,[v(e(c(f.total_votes))+" ",1),t("span",Kt,"("+e(g(f.total_votes,l.position_total_votes))+"%)",1)]),t("td",Qt,[n.position=="CONGRESSMAN"?(s(),o("span",Xt,e(c(b(l.candidates)[0].total_votes-f.total_votes)),1)):(s(),o("span",Zt,e(c(b(l.candidates)[w==0?w:w-1].total_votes-f.total_votes)),1))]),t("td",te,e(g(f.total_votes,l.position_total_votes))+"% ",1)],2))),256)),ee])],64))),256)):(s(),o(m,{key:1},[se,t("tbody",null,[(s(!0),o(m,null,k(b(n.candidates),(l,u)=>(s(),o("tr",{key:u,class:T(n.position!=="SENATOR"&&n.position!=="BOARD MEMBER"&&n.position!=="PARTY LIST"&&u==0||n.position=="SENATOR"&&u<12?"font-bold":"")},[t("td",oe,e(u+1)+". ",1),t("td",ne,e(l.candidate_name),1),t("td",ae,[v(e(c(l.total_votes))+" ",1),t("span",le,"("+e(g(l.total_votes,n.position_total_votes))+"%)",1)]),t("td",ie,[n.position=="PRESIDENT"||n.position=="V-PRESIDENT"||n.position=="CONGRESSMAN"||n.position=="GOVERNOR"||n.position=="VICE-GOVERNOR"?(s(),o("span",de,e(c(b(n.candidates)[0].total_votes-l.total_votes)),1)):(s(),o("span",re,e(c(b(n.candidates)[u==0?u:u-1].total_votes-l.total_votes)),1))]),t("td",ce,e(g(l.total_votes,n.position_total_votes))+"% ",1)],2))),128))]),t("tbody",_e,[n.position!="SENATOR"&&n.position!="BOARD MEMBER"&&n.position!="COUNCILOR"&&n.position!="PARTY LIST"?(s(),o("tr",xe,[pe,t("td",me,e(c(n.position_total_votes)),1),he,ge])):r("",!0)])],64))]),ue]))),256))]))),128))])])):r("",!0),t("button",{title:"Print",onClick:N,class:"no-print fixed z-[1000] bottom-6 md:bottom-10 right-8 bg-red-400 md:w-16 md:h-16 rounded-full drop-shadow-lg flex justify-center items-center text-white text-4xl hover:bg-green-400 hover:drop-shadow-2xl hover:animate-bounce duration-300 w-12 h-12"},[R(p,{name:"printer",size:"36"})])],64)}}};export{ve as default};
