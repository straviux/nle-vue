import{d as M,e as C,r as N,o as s,c as o,a as t,w as I,v as V,b as w,u as l,t as e,f as r,F as m,g as b,h as y}from"./index-4f09ff03.js";const D={class:"swap swap-rotate"},L={key:0,id:"printContent"},S={class:"printHeader hidden -mt-2"},j=t("div",{class:"text-center"},[t("span",{class:"font-semibold text-2xl uppercase"},"2022 National and Local Election Results")],-1),A={class:"px-4 py-2 mx-auto"},B={class:"headerTable"},O=t("td",{class:"w-[120px] font-semibold"},"DATE GENERATED:",-1),H={class:"uppercase indent-0.5"},Y=t("td",{class:"w-[120px] font-semibold"},"REPORT LEVEL:",-1),z={class:"uppercase indent-0.5"},F={key:0},J=t("td",{class:"w-[120px] font-semibold"},"MUNICIPALITY:",-1),U={class:"indent-0.5"},G={key:1},q=t("td",{class:"w-[120px] font-semibold"},"POSITION:",-1),W={class:"indent-0.5"},$=t("hr",null,null,-1),K=t("div",{class:"no-print py-4"},null,-1),Q={class:"bg-white px-6 lg:px-20 py-2 mx-auto relative uppercase"},X={key:0,class:"mb-2"},Z={key:0},tt={class:"py-0 font-semibold text-gray-600 text-xl md:text-2xl lg:text-3xl whitespace-normal md:whitespace-nowrap",colspan:"2"},et={key:1},st={class:"py-0 font-semibold text-gray-600 text-xl md:text-2xl lg:text-3xl",colspan:"2"},ot={class:"table table-compact table-zebra"},nt={key:0,class:""},lt=t("td",{class:"py-0 w-[140px] text-xl md:text-2xl lg:text-3xl text-gray-600 font-semibold whitespace-normal md:whitespace-nowrap",colspan:"2"}," Province of Palawan ",-1),at=[lt],it={key:0},rt={class:"py-0 font-semibold text-gray-600 text-xl md:text-2xl lg:text-3xl whitespace-normal md:whitespace-nowrap",colspan:"2"},dt={key:1},ct={class:"py-0 font-semibold text-gray-600 text-xl md:text-2xl lg:text-3xl",colspan:"2"},_t={key:2},xt=t("td",{class:"py-0 w-[140px] text-gray-600 text-sm md:text-base font-semibold"}," Barangay: ",-1),pt={class:"py-0 px-2 font-semibold text-sm md:text-base text-gray-600"},mt={key:3},ht={class:"py-0 w-[140px] text-[20px] text-gray-600 font-semibold whitespace-nowrap",colspan:"2"},ut={key:0},gt={key:1},yt={key:2},bt=t("td",{class:"py-0 w-[140px] text-gray-600 text-sm md:text-base font-semibold"}," Registered Voters: ",-1),ft={class:"py-0 px-2 font-semibold text-gray-600"},vt=t("td",{class:"py-0 w-[140px] text-gray-600 text-sm md:text-base font-semibold"}," Total Turnout: ",-1),wt={class:"py-0 px-2 font-semibold text-gray-600"},kt={class:"font-normal text-sm md:text-base"},Ct={key:4},Pt=t("td",{class:"py-0 w-[140px] text-gray-600 text-sm md:text-base font-semibold"}," JPM Members: ",-1),Tt={class:"py-0 px-2 font-semibold text-gray-600"},Rt={class:"font-normal text-sm md:text-base"},Et={class:"mt-2 lg:ml-4 contentTable"},Mt={class:"table w-full table-compact mb-2"},Nt={colspan:"4",class:"bg-gray-100 text-gray-600"},It={class:"text-lg md:text-xl font-semibold"},Vt={colspan:"4",class:"bg-gray-50 text-gray-600 pl-2"},Dt={colspan:"4",class:"py-0 bg-slate-50 text-gray-600 pl-4"},Lt={class:"flex align-bottom"},St=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"},"Registered Voters:")],-1),jt={class:"font-semibold text-[14px]"},At={class:"flex align-bottom"},Bt=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," Total Turnout:")],-1),Ot={class:"font-semibold text-[14px]"},Ht={class:"font-normal text-[12px] hidden md:inline-block"},Yt={key:0,class:"flex align-bottom"},zt=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," JPM Members:")],-1),Ft={key:0,class:"font-semibold text-[14px]"},Jt={class:"font-normal text-[12px]"},Ut=t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs bg-transparent text-gray-600 hidden md:block"}," Percentage ")],-1),Gt={class:""},qt={class:"p-1 md:p-2 text-[10px] md:text-xs text-gray-500 mb-4"},Wt={class:"font-mono text-[11px] md:text-sm md:p-2"},$t={class:"text-right text-[11px] md:text-sm md:p-2"},Kt={class:"font-normal text-[10px] md:hidden text-gray-500"},Qt={class:"text-right text-[11px] md:text-sm md:p-2 hidden md:block"},Xt=t("tr",null,[t("td",{colspan:"4",class:"py-2"})],-1),Zt=t("thead",null,[t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs md:text-lg bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs md:text-lg bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs md:text-lg bg-transparent text-gray-600 hidden md:block"}," Percentage ")])],-1),te={class:"p-1 md:p-2 text-[10px] md:text-sm lg:text-base text-gray-500 mb-4"},ee={class:"font-mono text-[11px] md:text-sm lg:text-xl md:p-2 text-gray-600"},se={class:"text-right text-[11px] md:text-base lg:text-lg md:p-2"},oe={class:"font-normal text-[10px] md:hidden no-print text-gray-500"},ne={class:"text-right text-[11px] md:text-base lg:text-lg md:p-2 hidden md:block"},le={class:"tfooter"},ae={key:0},ie=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-base lg:text-lg",colspan:"2"}," Total ",-1),re={class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-base lg:text-lg"},de=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-base lg:text-lg hidden md:block"}," 100% ",-1),ce=t("div",{class:"divider"},null,-1),me={__name:"Results",setup(_e){const a=M(),P=new Date().toLocaleDateString("en-PH"),h=C(!1);function u(_,d){return(100*_/d).toFixed(2)}function k(_){return _.length&&_.sort((d,p)=>{let n=parseInt(d.total_votes),g=parseInt(p.total_votes);return n<g?1:n>g?-1:0}),_}function x(_){return _.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",")}function T(){let d=0;const p=document.querySelectorAll(".print-content");for(let n=0;n<p.length;n++){let g=p[n].offsetHeight;n==0&&(g-=400),d>1024&&(p[n].classList.add("break-page"),d=0),d+=g}return setTimeout(function(){window.print()},500),!1}const R=C([]);return document.addEventListener("keydown",function(_){_.key==="j"&&(h.value=!h.value)}),(_,d)=>{const p=N("mdicon");return s(),o(m,null,[t("label",D,[I(t("input",{type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=n=>h.value=n),onClick:d[1]||(d[1]=n=>h.value=!h.value)},null,512),[[V,h.value]]),w(p,{name:"eye-outline",class:"swap-on text-gray-50"}),w(p,{name:"eye-off-outline",class:"swap-off text-gray-50"})]),l(a)?(s(),o("div",L,[t("div",S,[j,t("div",A,[t("table",B,[t("tr",null,[O,t("td",H,e(l(P)),1)]),t("tr",null,[Y,t("td",z,e(l(a).report_level),1)]),l(a).report_level=="municipality"?(s(),o("tr",F,[J,t("td",U,e(l(a).municipality.join(", ")),1)])):r("",!0),l(a).report_level!="province"?(s(),o("tr",G,[q,t("td",W,e(l(a).position.join(", ")),1)])):r("",!0)])]),$]),K,t("div",Q,[l(a).report_level=="barangay"?(s(),o("div",X,[/CITY/i.test(l(a).municipality)?(s(),o("div",et,[t("div",st,e(l(a).municipality),1)])):(s(),o("div",Z,[t("div",tt," Municipality of "+e(l(a).municipality),1)]))])):r("",!0),(s(!0),o(m,null,b(l(a).result,(n,g)=>(s(),o("div",{key:g,ref_for:!0,ref_key:"tableContainer",ref:R,class:"print-content"},[t("div",null,[t("table",ot,[t("tbody",null,[l(a).report_level=="province"?(s(),o("tr",nt,at)):r("",!0),l(a).report_level=="municipality"?(s(),o(m,{key:1},[/CITY/i.test(n.municipality)?(s(),o("tr",dt,[t("td",ct,e(n.municipality),1)])):(s(),o("tr",it,[t("td",rt," Municipality of "+e(n.municipality),1)]))],64)):r("",!0),l(a).report_level=="barangay"?(s(),o("tr",_t,[xt,t("td",pt,e(n.barangay),1)])):r("",!0),l(a).report_level=="district"?(s(),o("tr",mt,[t("td",ht,[l(a).district==1?(s(),o("span",ut,"1st Congressional district of Palawan")):r("",!0),l(a).district==2?(s(),o("span",gt,"2nd Congressional district of Palawan")):r("",!0),l(a).district==3?(s(),o("span",yt,"3rd Congressional district of Palawan")):r("",!0)])])):r("",!0),t("tr",null,[bt,t("td",ft,e(x(n.result.stats[0].reg_voters)),1)]),t("tr",null,[vt,t("td",wt,[y(e(x(n.result.stats[0].total_turnout))+" ",1),t("span",kt," ("+e(u(n.result.stats[0].total_turnout,n.result.stats[0].reg_voters))+"%)",1)])]),h.value?(s(),o("tr",Ct,[Pt,t("td",Tt,[y(e(x(n.jpm_members.total_members))+" ",1),t("span",Rt," ("+e(u(n.jpm_members.total_members,n.result.stats[0].reg_voters))+"%)",1)])])):r("",!0)])])]),(s(!0),o(m,null,b(n.result.turnouts,(c,xe)=>(s(),o("div",Et,[t("table",Mt,[t("thead",null,[t("tr",null,[t("th",Nt,[t("p",It,e(c.position),1)])])]),l(a).report_level=="province"&&(c.position=="CONGRESSMAN"||c.position=="BOARD MEMBER")?(s(!0),o(m,{key:0},b(c.district,(i,v)=>(s(),o(m,null,[t("thead",null,[t("tr",null,[t("th",Vt," District "+e(i.id),1)]),t("tr",null,[t("th",Dt,[t("div",Lt,[St,t("p",jt,e(x(i.reg_voters)),1)]),t("div",At,[Bt,t("p",Ot,[y(e(x(i.total_turnout))+" ",1),t("span",Ht,"("+e(u(i.total_turnout,i.reg_voters))+"%)",1)])]),h.value?(s(),o("div",Yt,[zt,i.jpm_members?(s(),o("p",Ft,[y(e(x(i.jpm_members.total_members))+" ",1),t("span",Jt,"("+e(u(i.jpm_members.total_members,i.reg_voters))+"%)",1)])):r("",!0)])):r("",!0)])]),Ut]),t("tbody",null,[(s(!0),o(m,null,b(k(i.candidates),(f,E)=>(s(),o("tr",Gt,[t("td",qt,e(E+1)+". ",1),t("td",Wt,e(f.candidate_name),1),t("td",$t,[y(e(x(f.total_votes))+" ",1),t("span",Kt,"("+e(u(f.total_votes,i.position_total_votes))+"%)",1)]),t("td",Qt,e(u(f.total_votes,i.position_total_votes))+"% ",1)]))),256)),Xt])],64))),256)):(s(),o(m,{key:1},[Zt,t("tbody",null,[(s(!0),o(m,null,b(k(c.candidates),(i,v)=>(s(),o("tr",{key:v},[t("td",te,e(v+1)+". ",1),t("td",ee,e(i.candidate_name),1),t("td",se,[y(e(x(i.total_votes))+" ",1),t("span",oe,"("+e(u(i.total_votes,c.position_total_votes))+"%)",1)]),t("td",ne,e(u(i.total_votes,c.position_total_votes))+"% ",1)]))),128))]),t("tbody",le,[c.position!="SENATOR"&&c.position!="BOARD MEMBER"&&c.position!="COUNCILOR"&&c.position!="PARTY LIST"?(s(),o("tr",ae,[ie,t("td",re,e(x(c.position_total_votes)),1),de])):r("",!0)])],64))]),ce]))),256))]))),128))])])):r("",!0),t("button",{title:"Print",onClick:T,class:"no-print fixed z-[1000] bottom-6 md:bottom-10 right-8 bg-red-400 md:w-16 md:h-16 rounded-full drop-shadow-lg flex justify-center items-center text-white text-4xl hover:bg-green-400 hover:drop-shadow-2xl hover:animate-bounce duration-300 w-12 h-12"},[w(p,{name:"printer",size:"36"})])],64)}}};export{me as default};
