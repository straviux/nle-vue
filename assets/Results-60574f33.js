import{d as E,e as P,r as I,o as s,c as o,a as t,t as e,u as i,f as a,F as _,g,b as N,h as f}from"./index-2da2e114.js";const S={id:"printContent"},A={class:"printHeader hidden -mt-2"},M=t("div",{class:"text-center"},[t("span",{class:"font-semibold text-2xl uppercase"},"2022 National and Local Election Results")],-1),O={class:"px-4 py-2 mx-auto"},L={class:"headerTable"},V=t("td",{class:"w-[100px] font-semibold"},"DATE GENERATED:",-1),j={class:"uppercase indent-0.5"},B=t("td",{class:"w-[100px] font-semibold"},"REPORT LEVEL:",-1),D={class:"uppercase indent-0.5"},H={key:0},U=t("td",{class:"w-[100px] font-semibold"},"MUNICIPALITY:",-1),Y={class:"indent-0.5"},z=t("td",{class:"w-[100px] font-semibold"},"POSITION:",-1),F={class:"indent-0.5"},J=t("hr",null,null,-1),G=t("div",{class:"no-print py-4"},null,-1),q={class:"bg-white px-6 lg:px-20 py-2 mx-auto relative uppercase"},W={class:"table table-compact table-zebra"},K={key:0,class:""},Q=t("td",{class:"py-0 w-[140px] text-xl text-gray-600 font-semibold",colspan:"2"}," Province of Palawan ",-1),X=[Q],Z={key:0},$={class:"py-0 font-semibold text-gray-600 text-xl",colspan:"2"},tt={key:1},et={class:"py-0 font-semibold text-gray-600 text-xl",colspan:"2"},st={key:0},ot={class:"py-0 font-semibold text-gray-600 text-xl",colspan:"2"},nt={key:1},at={class:"py-0 font-semibold text-gray-600 text-xl",colspan:"2"},lt=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Barangay: ",-1),it={class:"py-0 px-2 font-semibold text-gray-600"},rt={key:3},ct={class:"py-0 w-[140px] text-xl text-gray-600 font-semibold",colspan:"2"},dt={key:0},_t={key:1},pt={key:2},xt=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Registered Voters: ",-1),ut={class:"py-0 px-2 font-semibold text-gray-600"},ht=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Total Turnout: ",-1),mt={class:"py-0 px-2 font-semibold text-gray-600"},gt={class:"font-normal text-xs"},yt={key:4},ft=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," JPM Members: ",-1),bt={class:"py-0 px-2 font-semibold text-gray-600"},vt={class:"font-normal text-xs"},wt={class:"mt-2 lg:ml-4 contentTable"},Pt={class:"table w-full table-compact mb-2"},kt={colspan:"4",class:"bg-gray-100 text-gray-600"},Tt={class:"text-lg font-semibold"},Rt={colspan:"4",class:"bg-gray-50 text-gray-600 pl-2"},Ct={colspan:"4",class:"py-0 bg-slate-50 text-gray-600 pl-4"},Et={class:"flex align-bottom"},It=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"},"Registered Voters:")],-1),Nt={class:"font-semibold text-[14px]"},St={class:"flex align-bottom"},At=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," Total Turnout:")],-1),Mt={class:"font-semibold text-[14px]"},Ot={class:"font-normal text-[12px]"},Lt={key:0,class:"flex align-bottom"},Vt=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," JPM Members:")],-1),jt={key:0,class:"font-semibold text-[14px]"},Bt={class:"font-normal text-[12px]"},Dt=t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Percentage ")],-1),Ht={class:""},Ut={class:"p-2 text-xs text-gray-500 mb-4"},Yt={class:"font-mono p-2"},zt={class:"text-right p-2"},Ft={class:"text-right p-2"},Jt=t("tr",null,[t("td",{colspan:"4",class:"py-2"})],-1),Gt=t("thead",null,[t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Percentage ")])],-1),qt={class:"p-2 text-xs text-gray-500"},Wt={class:"font-mono p-2"},Kt={class:"text-right p-2"},Qt={class:"text-right p-2"},Xt={class:"tfooter"},Zt={key:0},$t=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600",colspan:"2"}," Total ",-1),te={class:"font-semibold text-right bg-gray-100 text-gray-600"},ee=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600"}," 100% ",-1),se=t("div",{class:"divider"},null,-1),le={__name:"Results",setup(oe){const r=E(),k=new Date().toLocaleDateString("en-PH"),y=P(!1);function m(d,x){return(100*d/x).toFixed(2)}function w(d){return d.sort((x,u)=>{let n=parseInt(x.total_votes),h=parseInt(u.total_votes);return n<h?1:n>h?-1:0}),d}function p(d){return d.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",")}function T(){let x=0;const u=document.querySelectorAll(".print-content");for(let n=0;n<u.length;n++){let h=u[n].offsetHeight;n==0&&(h-=400),x>1024&&(u[n].classList.add("break-page"),x=0),x+=h}return setTimeout(function(){window.print()},500),!1}const R=P([]);return document.addEventListener("keydown",function(d){d.key==="j"&&(y.value=!y.value)}),(d,x)=>{const u=I("mdicon");return s(),o(_,null,[t("div",S,[t("div",A,[M,t("div",O,[t("table",L,[t("tr",null,[V,t("td",j,e(i(k)),1)]),t("tr",null,[B,t("td",D,e(i(r).report_level),1)]),i(r).report_level=="municipality"?(s(),o("tr",H,[U,t("td",Y,e(i(r).municipality.join(", ")),1)])):a("",!0),t("tr",null,[z,t("td",F,e(i(r).position.join(", ")),1)])])]),J]),G,t("div",q,[(s(!0),o(_,null,g(i(r).result,(n,h)=>(s(),o("div",{key:h,ref_for:!0,ref_key:"tableContainer",ref:R,class:"print-content"},[t("div",null,[t("table",W,[t("tbody",null,[i(r).report_level=="province"?(s(),o("tr",K,X)):a("",!0),i(r).report_level=="municipality"?(s(),o(_,{key:1},[n.municipality!="PUERTO PRINCESA CITY"?(s(),o("tr",Z,[t("td",$," Municipality of "+e(n.municipality),1)])):a("",!0),n.municipality=="PUERTO PRINCESA CITY"?(s(),o("tr",tt,[t("td",et,e(n.municipality),1)])):a("",!0)],64)):a("",!0),i(r).report_level=="barangay"?(s(),o(_,{key:2},[n.municipality!="PUERTO PRINCESA CITY"?(s(),o("tr",st,[t("td",ot," Municipality of "+e(n.municipality),1)])):a("",!0),n.municipality=="PUERTO PRINCESA CITY"?(s(),o("tr",nt,[t("td",at,e(n.municipality),1)])):a("",!0),t("tr",null,[lt,t("td",it,e(n.barangay),1)])],64)):a("",!0),i(r).report_level=="district"?(s(),o("tr",rt,[t("td",ct,[i(r).district==1?(s(),o("span",dt,"1st Congressional district of Palawan")):a("",!0),i(r).district==2?(s(),o("span",_t,"2nd Congressional district of Palawan")):a("",!0),i(r).district==3?(s(),o("span",pt,"3rd Congressional district of Palawan")):a("",!0)])])):a("",!0),t("tr",null,[xt,t("td",ut,e(p(n.result.stats[0].reg_voters)),1)]),t("tr",null,[ht,t("td",mt,[f(e(p(n.result.stats[0].total_turnout))+" ",1),t("span",gt," ("+e(m(n.result.stats[0].total_turnout,n.result.stats[0].reg_voters))+"%)",1)])]),y.value?(s(),o("tr",yt,[ft,t("td",bt,[f(e(p(n.jpm_members.total_members))+" ",1),t("span",vt," ("+e(m(n.jpm_members.total_members,n.result.stats[0].reg_voters))+"%)",1)])])):a("",!0)])])]),(s(!0),o(_,null,g(n.result.turnouts,(c,ne)=>(s(),o("div",wt,[t("table",Pt,[t("thead",null,[t("tr",null,[t("th",kt,[t("p",Tt,e(c.position),1)])])]),i(r).report_level=="province"&&(c.position=="CONGRESSMAN"||c.position=="BOARD MEMBER")?(s(!0),o(_,{key:0},g(c.district,(l,b)=>(s(),o(_,null,[t("thead",null,[t("tr",null,[t("th",Rt," District "+e(l.id),1)]),t("tr",null,[t("th",Ct,[t("div",Et,[It,t("p",Nt,e(p(l.reg_voters)),1)]),t("div",St,[At,t("p",Mt,[f(e(p(l.total_turnout))+" ",1),t("span",Ot,"("+e(m(l.total_turnout,l.reg_voters))+"%)",1)])]),y.value?(s(),o("div",Lt,[Vt,l.jpm_members?(s(),o("p",jt,[f(e(p(l.jpm_members.total_members))+" ",1),t("span",Bt,"("+e(m(l.jpm_members.total_members,l.reg_voters))+"%)",1)])):a("",!0)])):a("",!0)])]),Dt]),t("tbody",null,[(s(!0),o(_,null,g(w(l.candidates),(v,C)=>(s(),o("tr",Ht,[t("td",Ut,e(C+1)+". ",1),t("td",Yt,e(v.candidate_name),1),t("td",zt,e(p(v.total_votes)),1),t("td",Ft,e(m(v.total_votes,l.position_total_votes))+"% ",1)]))),256)),Jt])],64))),256)):(s(),o(_,{key:1},[Gt,t("tbody",null,[(s(!0),o(_,null,g(w(c.candidates),(l,b)=>(s(),o("tr",{key:b},[t("td",qt,e(b+1)+". ",1),t("td",Wt,e(l.candidate_name),1),t("td",Kt,e(p(l.total_votes)),1),t("td",Qt,e(m(l.total_votes,c.position_total_votes))+"% ",1)]))),128))]),t("tbody",Xt,[c.position!="SENATOR"&&c.position!="BOARD MEMBER"&&c.position!="COUNCILOR"&&c.position!="PARTY LIST"?(s(),o("tr",Zt,[$t,t("td",te,e(p(c.position_total_votes)),1),ee])):a("",!0)])],64))]),se]))),256))]))),128))])]),t("button",{title:"Print",onClick:T,class:"no-print fixed z-[1000] bottom-10 right-8 bg-red-400 w-16 h-16 rounded-full drop-shadow-lg md:flex justify-center items-center text-white text-4xl hover:bg-green-400 hover:drop-shadow-2xl hover:animate-bounce duration-300 hidden"},[N(u,{name:"printer",size:"40"})])],64)}}};export{le as default};
