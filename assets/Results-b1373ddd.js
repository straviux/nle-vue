import{d as E,e as w,r as I,o as s,c as o,a as t,t as e,u as i,f as l,F as _,g as y,b as N,h as g}from"./index-5bc5216c.js";const S={id:"printContent"},A={class:"printHeader hidden -mt-2"},M=t("div",{class:"text-center"},[t("span",{class:"font-semibold text-2xl uppercase"},"2022 National and Local Election Results")],-1),O={class:"px-4 py-2 mx-auto"},L={class:"headerTable"},V=t("td",{class:"w-[100px] font-semibold"},"DATE GENERATED:",-1),j={class:"uppercase indent-0.5"},B=t("td",{class:"w-[100px] font-semibold"},"REPORT LEVEL:",-1),D={class:"uppercase indent-0.5"},H={key:0},U=t("td",{class:"w-[100px] font-semibold"},"MUNICIPALITY:",-1),Y={class:"indent-0.5"},z=t("td",{class:"w-[100px] font-semibold"},"POSITION:",-1),F={class:"indent-0.5"},J=t("hr",null,null,-1),G=t("div",{class:"no-print py-4"},null,-1),q={class:"bg-white px-6 lg:px-20 py-2 mx-auto relative uppercase"},W={class:"table table-compact table-zebra"},K={key:0,class:""},Q=t("td",{class:"py-0 w-[140px] text-xl text-gray-600 font-semibold",colspan:"2"}," Province of Palawan ",-1),X=[Q],Z={key:0},$={class:"py-0 font-semibold text-gray-600 text-xl",colspan:"2"},tt={key:1},et={class:"py-0 font-semibold text-gray-600 text-xl",colspan:"2"},st={key:0},ot={class:"py-0 font-semibold text-gray-600 text-xl",colspan:"2"},nt={key:1},at={class:"py-0 font-semibold text-gray-600 text-xl",colspan:"2"},lt=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Barangay: ",-1),it={class:"py-0 px-2 font-semibold text-gray-600"},rt={key:3},dt={class:"py-0 w-[140px] text-xl text-gray-600 font-semibold",colspan:"2"},ct={key:0},_t={key:1},xt={key:2},pt=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Registered Voters: ",-1),mt={class:"py-0 px-2 font-semibold text-gray-600"},ut=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Total Turnout: ",-1),ht={class:"py-0 px-2 font-semibold text-gray-600"},gt={class:"font-normal text-xs"},yt={key:4},ft=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," JPM Members: ",-1),bt={class:"py-0 px-2 font-semibold text-gray-600"},vt={class:"font-normal text-xs"},kt={class:"mt-2 lg:ml-4 contentTable"},wt={class:"table w-full table-compact mb-2"},Pt={colspan:"4",class:"bg-gray-100 text-gray-600"},Tt={class:"text-lg font-semibold"},Rt={colspan:"4",class:"bg-gray-50 text-gray-600 pl-2"},Ct={colspan:"4",class:"py-0 bg-slate-50 text-gray-600 pl-4"},Et={class:"flex align-bottom"},It=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"},"Registered Voters:")],-1),Nt={class:"font-semibold text-[14px]"},St={class:"flex align-bottom"},At=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," Total Turnout:")],-1),Mt={class:"font-semibold text-[14px]"},Ot={class:"font-normal text-[12px] hidden md:block"},Lt={key:0,class:"flex align-bottom"},Vt=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," JPM Members:")],-1),jt={key:0,class:"font-semibold text-[14px]"},Bt={class:"font-normal text-[12px]"},Dt=t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs bg-transparent text-gray-600 hidden md:block"}," Percentage ")],-1),Ht={class:""},Ut={class:"p-1 md:p-2 text-[10px] md:text-xs text-gray-500 mb-4"},Yt={class:"font-mono text-[11px] md:text-sm md:p-2"},zt={class:"text-right text-[11px] md:text-sm md:p-2"},Ft={class:"font-normal text-[10px] md:hidden text-gray-500"},Jt={class:"text-right text-[11px] md:text-sm md:p-2 hidden md:block"},Gt=t("tr",null,[t("td",{colspan:"4",class:"py-2"})],-1),qt=t("thead",null,[t("tr",null,[t("th",{class:"p-1 md:p-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs bg-transparent text-gray-600 hidden md:block"}," Percentage ")])],-1),Wt={class:"p-1 md:p-2 text-[10px] md:text-xs text-gray-500"},Kt={class:"font-mono text-[11px] md:text-sm md:p-2"},Qt={class:"text-right text-[11px] md:text-sm md:p-2"},Xt={class:"font-normal text-[10px] md:hidden text-gray-500"},Zt={class:"text-right text-[11px] md:text-sm md:p-2 hidden md:block"},$t={class:"tfooter"},te={key:0},ee=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-sm",colspan:"2"}," Total ",-1),se={class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-sm"},oe=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-sm hidden md:block"}," 100% ",-1),ne=t("div",{class:"divider"},null,-1),re={__name:"Results",setup(ae){const r=E(),P=new Date().toLocaleDateString("en-PH"),f=w(!1);function p(c,m){return(100*c/m).toFixed(2)}function k(c){return c.sort((m,u)=>{let n=parseInt(m.total_votes),h=parseInt(u.total_votes);return n<h?1:n>h?-1:0}),c}function x(c){return c.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",")}function T(){let m=0;const u=document.querySelectorAll(".print-content");for(let n=0;n<u.length;n++){let h=u[n].offsetHeight;n==0&&(h-=400),m>1024&&(u[n].classList.add("break-page"),m=0),m+=h}return setTimeout(function(){window.print()},500),!1}const R=w([]);return document.addEventListener("keydown",function(c){c.key==="j"&&(f.value=!f.value)}),(c,m)=>{const u=I("mdicon");return s(),o(_,null,[t("div",S,[t("div",A,[M,t("div",O,[t("table",L,[t("tr",null,[V,t("td",j,e(i(P)),1)]),t("tr",null,[B,t("td",D,e(i(r).report_level),1)]),i(r).report_level=="municipality"?(s(),o("tr",H,[U,t("td",Y,e(i(r).municipality.join(", ")),1)])):l("",!0),t("tr",null,[z,t("td",F,e(i(r).position.join(", ")),1)])])]),J]),G,t("div",q,[(s(!0),o(_,null,y(i(r).result,(n,h)=>(s(),o("div",{key:h,ref_for:!0,ref_key:"tableContainer",ref:R,class:"print-content"},[t("div",null,[t("table",W,[t("tbody",null,[i(r).report_level=="province"?(s(),o("tr",K,X)):l("",!0),i(r).report_level=="municipality"?(s(),o(_,{key:1},[n.municipality!="PUERTO PRINCESA CITY"?(s(),o("tr",Z,[t("td",$," Municipality of "+e(n.municipality),1)])):l("",!0),n.municipality=="PUERTO PRINCESA CITY"?(s(),o("tr",tt,[t("td",et,e(n.municipality),1)])):l("",!0)],64)):l("",!0),i(r).report_level=="barangay"?(s(),o(_,{key:2},[n.municipality!="PUERTO PRINCESA CITY"?(s(),o("tr",st,[t("td",ot," Municipality of "+e(n.municipality),1)])):l("",!0),n.municipality=="PUERTO PRINCESA CITY"?(s(),o("tr",nt,[t("td",at,e(n.municipality),1)])):l("",!0),t("tr",null,[lt,t("td",it,e(n.barangay),1)])],64)):l("",!0),i(r).report_level=="district"?(s(),o("tr",rt,[t("td",dt,[i(r).district==1?(s(),o("span",ct,"1st Congressional district of Palawan")):l("",!0),i(r).district==2?(s(),o("span",_t,"2nd Congressional district of Palawan")):l("",!0),i(r).district==3?(s(),o("span",xt,"3rd Congressional district of Palawan")):l("",!0)])])):l("",!0),t("tr",null,[pt,t("td",mt,e(x(n.result.stats[0].reg_voters)),1)]),t("tr",null,[ut,t("td",ht,[g(e(x(n.result.stats[0].total_turnout))+" ",1),t("span",gt," ("+e(p(n.result.stats[0].total_turnout,n.result.stats[0].reg_voters))+"%)",1)])]),f.value?(s(),o("tr",yt,[ft,t("td",bt,[g(e(x(n.jpm_members.total_members))+" ",1),t("span",vt," ("+e(p(n.jpm_members.total_members,n.result.stats[0].reg_voters))+"%)",1)])])):l("",!0)])])]),(s(!0),o(_,null,y(n.result.turnouts,(d,le)=>(s(),o("div",kt,[t("table",wt,[t("thead",null,[t("tr",null,[t("th",Pt,[t("p",Tt,e(d.position),1)])])]),i(r).report_level=="province"&&(d.position=="CONGRESSMAN"||d.position=="BOARD MEMBER")?(s(!0),o(_,{key:0},y(d.district,(a,v)=>(s(),o(_,null,[t("thead",null,[t("tr",null,[t("th",Rt," District "+e(a.id),1)]),t("tr",null,[t("th",Ct,[t("div",Et,[It,t("p",Nt,e(x(a.reg_voters)),1)]),t("div",St,[At,t("p",Mt,[g(e(x(a.total_turnout))+" ",1),t("span",Ot,"("+e(p(a.total_turnout,a.reg_voters))+"%)",1)])]),f.value?(s(),o("div",Lt,[Vt,a.jpm_members?(s(),o("p",jt,[g(e(x(a.jpm_members.total_members))+" ",1),t("span",Bt,"("+e(p(a.jpm_members.total_members,a.reg_voters))+"%)",1)])):l("",!0)])):l("",!0)])]),Dt]),t("tbody",null,[(s(!0),o(_,null,y(k(a.candidates),(b,C)=>(s(),o("tr",Ht,[t("td",Ut,e(C+1)+". ",1),t("td",Yt,e(b.candidate_name),1),t("td",zt,[g(e(x(b.total_votes))+" ",1),t("span",Ft,"("+e(p(b.total_votes,a.position_total_votes))+"%)",1)]),t("td",Jt,e(p(b.total_votes,a.position_total_votes))+"% ",1)]))),256)),Gt])],64))),256)):(s(),o(_,{key:1},[qt,t("tbody",null,[(s(!0),o(_,null,y(k(d.candidates),(a,v)=>(s(),o("tr",{key:v},[t("td",Wt,e(v+1)+". ",1),t("td",Kt,e(a.candidate_name),1),t("td",Qt,[g(e(x(a.total_votes))+" ",1),t("span",Xt,"("+e(p(a.total_votes,d.position_total_votes))+"%)",1)]),t("td",Zt,e(p(a.total_votes,d.position_total_votes))+"% ",1)]))),128))]),t("tbody",$t,[d.position!="SENATOR"&&d.position!="BOARD MEMBER"&&d.position!="COUNCILOR"&&d.position!="PARTY LIST"?(s(),o("tr",te,[ee,t("td",se,e(x(d.position_total_votes)),1),oe])):l("",!0)])],64))]),ne]))),256))]))),128))])]),t("button",{title:"Print",onClick:T,class:"no-print fixed z-[1000] bottom-10 right-8 bg-red-400 w-16 h-16 rounded-full drop-shadow-lg md:flex justify-center items-center text-white text-4xl hover:bg-green-400 hover:drop-shadow-2xl hover:animate-bounce duration-300 hidden"},[N(u,{name:"printer",size:"40"})])],64)}}};export{re as default};
