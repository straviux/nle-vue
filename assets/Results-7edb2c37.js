import{d as M,e as C,r as N,o as s,c as o,a as t,w as I,v as V,b as w,u as l,t as e,f as r,F as p,g as f,h as y}from"./index-dfc99c41.js";const D={class:"swap swap-rotate"},L={key:0,id:"printContent"},S={class:"printHeader hidden -mt-2"},j=t("div",{class:"text-center"},[t("span",{class:"font-semibold text-2xl uppercase"},"2022 National and Local Election Results")],-1),A={class:"px-4 py-2 mx-auto"},B={class:"headerTable"},O=t("td",{class:"w-[100px] font-semibold"},"DATE GENERATED:",-1),H={class:"uppercase indent-0.5"},Y=t("td",{class:"w-[100px] font-semibold"},"REPORT LEVEL:",-1),z={class:"uppercase indent-0.5"},F={key:0},J=t("td",{class:"w-[100px] font-semibold"},"MUNICIPALITY:",-1),U={class:"indent-0.5"},G={key:1},q=t("td",{class:"w-[100px] font-semibold"},"POSITION:",-1),W={class:"indent-0.5"},$=t("hr",null,null,-1),K=t("div",{class:"no-print py-4"},null,-1),Q={class:"bg-white px-6 lg:px-20 py-2 mx-auto relative uppercase"},X={class:"table table-compact table-zebra"},Z={key:0,class:""},tt=t("td",{class:"py-0 w-[140px] text-xl text-gray-600 font-semibold whitespace-normal md:whitespace-nowrap",colspan:"2"}," Province of Palawan ",-1),et=[tt],st={key:0},ot={class:"py-0 font-semibold text-gray-600 text-xl whitespace-normal md:whitespace-nowrap",colspan:"2"},nt={key:1},at={class:"py-0 font-semibold text-gray-600 text-xl",colspan:"2"},lt={key:0},it={class:"py-0 font-semibold text-gray-600 text-[20px] whitespace-nowrap",colspan:"2"},rt={key:1},dt={class:"py-0 font-semibold text-gray-600 text-[20px] whitespace-nowrap",colspan:"2"},ct=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Barangay: ",-1),_t={class:"py-0 px-2 font-semibold text-gray-600"},pt={key:3},xt={class:"py-0 w-[140px] text-[20px] text-gray-600 font-semibold whitespace-nowrap",colspan:"2"},mt={key:0},ht={key:1},ut={key:2},gt=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Registered Voters: ",-1),yt={class:"py-0 px-2 font-semibold text-gray-600"},ft=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Total Turnout: ",-1),bt={class:"py-0 px-2 font-semibold text-gray-600"},vt={class:"font-normal text-xs"},wt={key:4},kt=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," JPM Members: ",-1),Ct={class:"py-0 px-2 font-semibold text-gray-600"},Pt={class:"font-normal text-xs"},Tt={class:"mt-2 lg:ml-4 contentTable"},Rt={class:"table w-full table-compact mb-2"},Et={colspan:"4",class:"bg-gray-100 text-gray-600"},Mt={class:"text-lg font-semibold"},Nt={colspan:"4",class:"bg-gray-50 text-gray-600 pl-2"},It={colspan:"4",class:"py-0 bg-slate-50 text-gray-600 pl-4"},Vt={class:"flex align-bottom"},Dt=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"},"Registered Voters:")],-1),Lt={class:"font-semibold text-[14px]"},St={class:"flex align-bottom"},jt=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," Total Turnout:")],-1),At={class:"font-semibold text-[14px]"},Bt={class:"font-normal text-[12px] hidden md:inline-block"},Ot={key:0,class:"flex align-bottom"},Ht=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," JPM Members:")],-1),Yt={key:0,class:"font-semibold text-[14px]"},zt={class:"font-normal text-[12px]"},Ft=t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs bg-transparent text-gray-600 hidden md:block"}," Percentage ")],-1),Jt={class:""},Ut={class:"p-1 md:p-2 text-[10px] md:text-xs text-gray-500 mb-4"},Gt={class:"font-mono text-[11px] md:text-sm md:p-2"},qt={class:"text-right text-[11px] md:text-sm md:p-2"},Wt={class:"font-normal text-[10px] md:hidden text-gray-500"},$t={class:"text-right text-[11px] md:text-sm md:p-2 hidden md:block"},Kt=t("tr",null,[t("td",{colspan:"4",class:"py-2"})],-1),Qt=t("thead",null,[t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs bg-transparent text-gray-600 hidden md:block"}," Percentage ")])],-1),Xt={class:"p-1 md:p-2 text-[10px] md:text-xs text-gray-500 mb-4"},Zt={class:"font-mono text-[11px] md:text-sm md:p-2"},te={class:"text-right text-[11px] md:text-sm md:p-2"},ee={class:"font-normal text-[10px] md:hidden text-gray-500"},se={class:"text-right text-[11px] md:text-sm md:p-2 hidden md:block"},oe={class:"tfooter"},ne={key:0},ae=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-sm",colspan:"2"}," Total ",-1),le={class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-sm"},ie=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-sm hidden md:block"}," 100% ",-1),re=t("div",{class:"divider"},null,-1),pe={__name:"Results",setup(de){const i=M(),P=new Date().toLocaleDateString("en-PH"),h=C(!1);function u(_,d){return(100*_/d).toFixed(2)}function k(_){return _.sort((d,m)=>{let n=parseInt(d.total_votes),g=parseInt(m.total_votes);return n<g?1:n>g?-1:0}),_}function x(_){return _.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",")}function T(){let d=0;const m=document.querySelectorAll(".print-content");for(let n=0;n<m.length;n++){let g=m[n].offsetHeight;n==0&&(g-=400),d>1024&&(m[n].classList.add("break-page"),d=0),d+=g}return setTimeout(function(){window.print()},500),!1}const R=C([]);return document.addEventListener("keydown",function(_){_.key==="j"&&(h.value=!h.value)}),(_,d)=>{const m=N("mdicon");return s(),o(p,null,[t("label",D,[I(t("input",{type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=n=>h.value=n),onClick:d[1]||(d[1]=n=>h.value=!h.value)},null,512),[[V,h.value]]),w(m,{name:"eye-outline",class:"swap-on text-gray-50"}),w(m,{name:"eye-off-outline",class:"swap-off text-gray-50"})]),l(i)?(s(),o("div",L,[t("div",S,[j,t("div",A,[t("table",B,[t("tr",null,[O,t("td",H,e(l(P)),1)]),t("tr",null,[Y,t("td",z,e(l(i).report_level),1)]),l(i).report_level=="municipality"?(s(),o("tr",F,[J,t("td",U,e(l(i).municipality.join(", ")),1)])):r("",!0),l(i).report_level!="province"?(s(),o("tr",G,[q,t("td",W,e(l(i).position.join(", ")),1)])):r("",!0)])]),$]),K,t("div",Q,[(s(!0),o(p,null,f(l(i).result,(n,g)=>(s(),o("div",{key:g,ref_for:!0,ref_key:"tableContainer",ref:R,class:"print-content"},[t("div",null,[t("table",X,[t("tbody",null,[l(i).report_level=="province"?(s(),o("tr",Z,et)):r("",!0),l(i).report_level=="municipality"?(s(),o(p,{key:1},[/CITY/i.test(n.municipality)?(s(),o("tr",nt,[t("td",at,e(n.municipality),1)])):(s(),o("tr",st,[t("td",ot," Municipality of "+e(n.municipality),1)]))],64)):r("",!0),l(i).report_level=="barangay"?(s(),o(p,{key:2},[/CITY/i.test(n.municipality)?(s(),o("tr",rt,[t("td",dt,e(n.municipality),1)])):(s(),o("tr",lt,[t("td",it," Municipality of "+e(n.municipality),1)])),t("tr",null,[ct,t("td",_t,e(n.barangay),1)])],64)):r("",!0),l(i).report_level=="district"?(s(),o("tr",pt,[t("td",xt,[l(i).district==1?(s(),o("span",mt,"1st Congressional district of Palawan")):r("",!0),l(i).district==2?(s(),o("span",ht,"2nd Congressional district of Palawan")):r("",!0),l(i).district==3?(s(),o("span",ut,"3rd Congressional district of Palawan")):r("",!0)])])):r("",!0),t("tr",null,[gt,t("td",yt,e(x(n.result.stats[0].reg_voters)),1)]),t("tr",null,[ft,t("td",bt,[y(e(x(n.result.stats[0].total_turnout))+" ",1),t("span",vt," ("+e(u(n.result.stats[0].total_turnout,n.result.stats[0].reg_voters))+"%)",1)])]),h.value?(s(),o("tr",wt,[kt,t("td",Ct,[y(e(x(n.jpm_members.total_members))+" ",1),t("span",Pt," ("+e(u(n.jpm_members.total_members,n.result.stats[0].reg_voters))+"%)",1)])])):r("",!0)])])]),(s(!0),o(p,null,f(n.result.turnouts,(c,ce)=>(s(),o("div",Tt,[t("table",Rt,[t("thead",null,[t("tr",null,[t("th",Et,[t("p",Mt,e(c.position),1)])])]),l(i).report_level=="province"&&(c.position=="CONGRESSMAN"||c.position=="BOARD MEMBER")?(s(!0),o(p,{key:0},f(c.district,(a,v)=>(s(),o(p,null,[t("thead",null,[t("tr",null,[t("th",Nt," District "+e(a.id),1)]),t("tr",null,[t("th",It,[t("div",Vt,[Dt,t("p",Lt,e(x(a.reg_voters)),1)]),t("div",St,[jt,t("p",At,[y(e(x(a.total_turnout))+" ",1),t("span",Bt,"("+e(u(a.total_turnout,a.reg_voters))+"%)",1)])]),h.value?(s(),o("div",Ot,[Ht,a.jpm_members?(s(),o("p",Yt,[y(e(x(a.jpm_members.total_members))+" ",1),t("span",zt,"("+e(u(a.jpm_members.total_members,a.reg_voters))+"%)",1)])):r("",!0)])):r("",!0)])]),Ft]),t("tbody",null,[(s(!0),o(p,null,f(k(a.candidates),(b,E)=>(s(),o("tr",Jt,[t("td",Ut,e(E+1)+". ",1),t("td",Gt,e(b.candidate_name),1),t("td",qt,[y(e(x(b.total_votes))+" ",1),t("span",Wt,"("+e(u(b.total_votes,a.position_total_votes))+"%)",1)]),t("td",$t,e(u(b.total_votes,a.position_total_votes))+"% ",1)]))),256)),Kt])],64))),256)):(s(),o(p,{key:1},[Qt,t("tbody",null,[(s(!0),o(p,null,f(k(c.candidates),(a,v)=>(s(),o("tr",{key:v},[t("td",Xt,e(v+1)+". ",1),t("td",Zt,e(a.candidate_name),1),t("td",te,[y(e(x(a.total_votes))+" ",1),t("span",ee,"("+e(u(a.total_votes,c.position_total_votes))+"%)",1)]),t("td",se,e(u(a.total_votes,c.position_total_votes))+"% ",1)]))),128))]),t("tbody",oe,[c.position!="SENATOR"&&c.position!="BOARD MEMBER"&&c.position!="COUNCILOR"&&c.position!="PARTY LIST"?(s(),o("tr",ne,[ae,t("td",le,e(x(c.position_total_votes)),1),ie])):r("",!0)])],64))]),re]))),256))]))),128))])])):r("",!0),t("button",{title:"Print",onClick:T,class:"no-print fixed z-[1000] bottom-10 right-8 bg-red-400 w-16 h-16 rounded-full drop-shadow-lg flex justify-center items-center text-white text-4xl hover:bg-green-400 hover:drop-shadow-2xl hover:animate-bounce duration-300"},[w(m,{name:"printer",size:"40"})])],64)}}};export{pe as default};
