import{d as I,e as P,r as N,o,c as n,a as t,w as M,v as S,b as w,t as e,u as i,f as l,F as p,g as f,h as y}from"./index-313bffa2.js";const A={class:"swap swap-rotate"},O={id:"printContent"},V={class:"printHeader hidden -mt-2"},D=t("div",{class:"text-center"},[t("span",{class:"font-semibold text-2xl uppercase"},"2022 National and Local Election Results")],-1),L={class:"px-4 py-2 mx-auto"},j={class:"headerTable"},B=t("td",{class:"w-[100px] font-semibold"},"DATE GENERATED:",-1),H={class:"uppercase indent-0.5"},U=t("td",{class:"w-[100px] font-semibold"},"REPORT LEVEL:",-1),Y={class:"uppercase indent-0.5"},z={key:0},F=t("td",{class:"w-[100px] font-semibold"},"MUNICIPALITY:",-1),J={class:"indent-0.5"},G=t("td",{class:"w-[100px] font-semibold"},"POSITION:",-1),q={class:"indent-0.5"},W=t("hr",null,null,-1),$=t("div",{class:"no-print py-4"},null,-1),K={class:"bg-white px-6 lg:px-20 py-2 mx-auto relative uppercase"},Q={class:"table table-compact table-zebra"},X={key:0,class:""},Z=t("td",{class:"py-0 w-[140px] text-xl text-gray-600 font-semibold whitespace-normal md:whitespace-nowrap",colspan:"2"}," Province of Palawan ",-1),tt=[Z],et={key:0},st={class:"py-0 font-semibold text-gray-600 text-xl whitespace-normal md:whitespace-nowrap",colspan:"2"},ot={key:1},nt={class:"py-0 font-semibold text-gray-600 text-xl",colspan:"2"},at={key:0},lt={class:"py-0 font-semibold text-gray-600 text-xl whitespace-normal md:whitespace-nowrap",colspan:"2"},it={key:1},rt={class:"py-0 font-semibold text-gray-600 text-xl whitespace-normal md:whitespace-nowrap",colspan:"2"},dt=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Barangay: ",-1),ct={class:"py-0 px-2 font-semibold text-gray-600"},_t={key:3},pt={class:"py-0 w-[140px] text-xl text-gray-600 font-semibold whitespace-normal md:whitespace-nowrap",colspan:"2"},xt={key:0},mt={key:1},ut={key:2},ht=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Registered Voters: ",-1),gt={class:"py-0 px-2 font-semibold text-gray-600"},yt=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," Total Turnout: ",-1),ft={class:"py-0 px-2 font-semibold text-gray-600"},bt={class:"font-normal text-xs"},vt={key:4},wt=t("td",{class:"py-0 w-[140px] text-gray-600 text-xs font-semibold"}," JPM Members: ",-1),kt={class:"py-0 px-2 font-semibold text-gray-600"},Pt={class:"font-normal text-xs"},Ct={class:"mt-2 lg:ml-4 contentTable"},Tt={class:"table w-full table-compact mb-2"},Rt={colspan:"4",class:"bg-gray-100 text-gray-600"},Et={class:"text-lg font-semibold"},It={colspan:"4",class:"bg-gray-50 text-gray-600 pl-2"},Nt={colspan:"4",class:"py-0 bg-slate-50 text-gray-600 pl-4"},Mt={class:"flex align-bottom"},St=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"},"Registered Voters:")],-1),At={class:"font-semibold text-[14px]"},Ot={class:"flex align-bottom"},Vt=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," Total Turnout:")],-1),Dt={class:"font-semibold text-[14px]"},Lt={class:"font-normal text-[12px] hidden md:inline-block"},jt={key:0,class:"flex align-bottom"},Bt=t("p",{class:"w-[120px]"},[t("span",{class:"font-semibold text-[11px]"}," JPM Members:")],-1),Ht={key:0,class:"font-semibold text-[14px]"},Ut={class:"font-normal text-[12px]"},Yt=t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs bg-transparent text-gray-600 hidden md:block"}," Percentage ")],-1),zt={class:""},Ft={class:"p-1 md:p-2 text-[10px] md:text-xs text-gray-500 mb-4"},Jt={class:"font-mono text-[11px] md:text-sm md:p-2"},Gt={class:"text-right text-[11px] md:text-sm md:p-2"},qt={class:"font-normal text-[10px] md:hidden text-gray-500"},Wt={class:"text-right text-[11px] md:text-sm md:p-2 hidden md:block"},$t=t("tr",null,[t("td",{colspan:"4",class:"py-2"})],-1),Kt=t("thead",null,[t("tr",null,[t("th",{class:"w-2 text-left text-xs bg-transparent text-gray-600"}," # "),t("th",{class:"w-1/4 text-left text-xs bg-transparent text-gray-600"}," Candidate "),t("th",{class:"text-right text-xs bg-transparent text-gray-600"}," Votes "),t("th",{class:"text-right text-xs bg-transparent text-gray-600 hidden md:block"}," Percentage ")])],-1),Qt={class:"p-1 md:p-2 text-[10px] md:text-xs text-gray-500 mb-4"},Xt={class:"font-mono text-[11px] md:text-sm md:p-2"},Zt={class:"text-right text-[11px] md:text-sm md:p-2"},te={class:"font-normal text-[10px] md:hidden text-gray-500"},ee={class:"text-right text-[11px] md:text-sm md:p-2 hidden md:block"},se={class:"tfooter"},oe={key:0},ne=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-sm",colspan:"2"}," Total ",-1),ae={class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-sm"},le=t("td",{class:"font-semibold text-right bg-gray-100 text-gray-600 text-xs md:text-sm hidden md:block"}," 100% ",-1),ie=t("div",{class:"divider"},null,-1),_e={__name:"Results",setup(re){const r=I(),C=new Date().toLocaleDateString("en-PH"),u=P(!1);function h(_,d){return(100*_/d).toFixed(2)}function k(_){return _.sort((d,m)=>{let s=parseInt(d.total_votes),g=parseInt(m.total_votes);return s<g?1:s>g?-1:0}),_}function x(_){return _.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",")}function T(){let d=0;const m=document.querySelectorAll(".print-content");for(let s=0;s<m.length;s++){let g=m[s].offsetHeight;s==0&&(g-=400),d>1024&&(m[s].classList.add("break-page"),d=0),d+=g}return setTimeout(function(){window.print()},500),!1}const R=P([]);return document.addEventListener("keydown",function(_){_.key==="j"&&(u.value=!u.value)}),(_,d)=>{const m=N("mdicon");return o(),n(p,null,[t("label",A,[M(t("input",{type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=s=>u.value=s),onClick:d[1]||(d[1]=s=>u.value=!u.value)},null,512),[[S,u.value]]),w(m,{name:"eye-outline",class:"swap-on text-gray-50"}),w(m,{name:"eye-off-outline",class:"swap-off text-gray-50"})]),t("div",O,[t("div",V,[D,t("div",L,[t("table",j,[t("tr",null,[B,t("td",H,e(i(C)),1)]),t("tr",null,[U,t("td",Y,e(i(r).report_level),1)]),i(r).report_level=="municipality"?(o(),n("tr",z,[F,t("td",J,e(i(r).municipality.join(", ")),1)])):l("",!0),t("tr",null,[G,t("td",q,e(i(r).position.join(", ")),1)])])]),W]),$,t("div",K,[(o(!0),n(p,null,f(i(r).result,(s,g)=>(o(),n("div",{key:g,ref_for:!0,ref_key:"tableContainer",ref:R,class:"print-content"},[t("div",null,[t("table",Q,[t("tbody",null,[i(r).report_level=="province"?(o(),n("tr",X,tt)):l("",!0),i(r).report_level=="municipality"?(o(),n(p,{key:1},[s.municipality!="PUERTO PRINCESA CITY"?(o(),n("tr",et,[t("td",st," Municipality of "+e(s.municipality),1)])):l("",!0),s.municipality=="PUERTO PRINCESA CITY"?(o(),n("tr",ot,[t("td",nt,e(s.municipality),1)])):l("",!0)],64)):l("",!0),i(r).report_level=="barangay"?(o(),n(p,{key:2},[s.municipality!="PUERTO PRINCESA CITY"?(o(),n("tr",at,[t("td",lt," Municipality of "+e(s.municipality),1)])):l("",!0),s.municipality=="PUERTO PRINCESA CITY"?(o(),n("tr",it,[t("td",rt,e(s.municipality),1)])):l("",!0),t("tr",null,[dt,t("td",ct,e(s.barangay),1)])],64)):l("",!0),i(r).report_level=="district"?(o(),n("tr",_t,[t("td",pt,[i(r).district==1?(o(),n("span",xt,"1st Congressional district of Palawan")):l("",!0),i(r).district==2?(o(),n("span",mt,"2nd Congressional district of Palawan")):l("",!0),i(r).district==3?(o(),n("span",ut,"3rd Congressional district of Palawan")):l("",!0)])])):l("",!0),t("tr",null,[ht,t("td",gt,e(x(s.result.stats[0].reg_voters)),1)]),t("tr",null,[yt,t("td",ft,[y(e(x(s.result.stats[0].total_turnout))+" ",1),t("span",bt," ("+e(h(s.result.stats[0].total_turnout,s.result.stats[0].reg_voters))+"%)",1)])]),u.value?(o(),n("tr",vt,[wt,t("td",kt,[y(e(x(s.jpm_members.total_members))+" ",1),t("span",Pt," ("+e(h(s.jpm_members.total_members,s.result.stats[0].reg_voters))+"%)",1)])])):l("",!0)])])]),(o(!0),n(p,null,f(s.result.turnouts,(c,de)=>(o(),n("div",Ct,[t("table",Tt,[t("thead",null,[t("tr",null,[t("th",Rt,[t("p",Et,e(c.position),1)])])]),i(r).report_level=="province"&&(c.position=="CONGRESSMAN"||c.position=="BOARD MEMBER")?(o(!0),n(p,{key:0},f(c.district,(a,v)=>(o(),n(p,null,[t("thead",null,[t("tr",null,[t("th",It," District "+e(a.id),1)]),t("tr",null,[t("th",Nt,[t("div",Mt,[St,t("p",At,e(x(a.reg_voters)),1)]),t("div",Ot,[Vt,t("p",Dt,[y(e(x(a.total_turnout))+" ",1),t("span",Lt,"("+e(h(a.total_turnout,a.reg_voters))+"%)",1)])]),u.value?(o(),n("div",jt,[Bt,a.jpm_members?(o(),n("p",Ht,[y(e(x(a.jpm_members.total_members))+" ",1),t("span",Ut,"("+e(h(a.jpm_members.total_members,a.reg_voters))+"%)",1)])):l("",!0)])):l("",!0)])]),Yt]),t("tbody",null,[(o(!0),n(p,null,f(k(a.candidates),(b,E)=>(o(),n("tr",zt,[t("td",Ft,e(E+1)+". ",1),t("td",Jt,e(b.candidate_name),1),t("td",Gt,[y(e(x(b.total_votes))+" ",1),t("span",qt,"("+e(h(b.total_votes,a.position_total_votes))+"%)",1)]),t("td",Wt,e(h(b.total_votes,a.position_total_votes))+"% ",1)]))),256)),$t])],64))),256)):(o(),n(p,{key:1},[Kt,t("tbody",null,[(o(!0),n(p,null,f(k(c.candidates),(a,v)=>(o(),n("tr",{key:v},[t("td",Qt,e(v+1)+". ",1),t("td",Xt,e(a.candidate_name),1),t("td",Zt,[y(e(x(a.total_votes))+" ",1),t("span",te,"("+e(h(a.total_votes,c.position_total_votes))+"%)",1)]),t("td",ee,e(h(a.total_votes,c.position_total_votes))+"% ",1)]))),128))]),t("tbody",se,[c.position!="SENATOR"&&c.position!="BOARD MEMBER"&&c.position!="COUNCILOR"&&c.position!="PARTY LIST"?(o(),n("tr",oe,[ne,t("td",ae,e(x(c.position_total_votes)),1),le])):l("",!0)])],64))]),ie]))),256))]))),128))])]),t("button",{title:"Print",onClick:T,class:"no-print fixed z-[1000] bottom-10 right-8 bg-red-400 w-16 h-16 rounded-full drop-shadow-lg flex justify-center items-center text-white text-4xl hover:bg-green-400 hover:drop-shadow-2xl hover:animate-bounce duration-300"},[w(m,{name:"printer",size:"40"})])],64)}}};export{_e as default};
