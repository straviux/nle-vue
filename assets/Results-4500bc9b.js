import{d as P,e as C,r as E,o as s,c as o,a as t,t as e,u as l,f as u,F as h,g as f,b as N,h as x}from"./index-2eba7c1a.js";const D={id:"printContent"},I={class:"printHeader hidden -mt-6"},S=t("div",{class:"text-center"},[t("span",{class:"font-semibold text-xl"},"2022 National Election Results")],-1),V={class:"mb-2"},B={class:"headerTable"},O=t("td",{class:"w-[100px] font-semibold"},"DATE PRINTED:",-1),A={class:"uppercase indent-0.5"},L=t("td",{class:"w-[100px] font-semibold"},"REPORT LEVEL:",-1),M={class:"uppercase indent-0.5"},H={key:0},j=t("td",{class:"w-[100px] font-semibold"},"MUNICIPALITY:",-1),F={class:"indent-0.5"},z=t("td",{class:"w-[100px] font-semibold"},"POSITION:",-1),U={class:"indent-0.5"},Y=t("hr",null,null,-1),q={class:"bg-white px-6 lg:px-20 py-10 mx-auto relative uppercase"},G={class:"font-semibold text-xl"},J={key:0,class:"text-sm"},W={class:"font-semibold"},K={key:1,class:"text-sm"},Q={class:"font-semibold"},X={class:"text-sm"},Z={key:0,class:"font-semibold"},$={class:"text-sm"},tt={key:0,class:"font-semibold"},et={class:"text-sm"},st={key:0,class:"font-semibold"},ot={class:"text-sm"},nt={key:0,class:"font-semibold"},lt={class:"mt-4 lg:ml-8"},it={class:"text-lg font-semibold"},at={class:"table w-full table-compact mb-4 page-break-after-always contentTable"},rt={colspan:"4"},ct={colspan:"4",class:"py-0"},dt={class:"text-xs font-normal"},_t={class:"text-xs font-normal"},ut=t("tr",null,[t("th",{class:"w-2 text-left"},"#"),t("th",{class:"w-1/4 text-left"}," Candidate "),t("th",{class:"text-right"},"Votes"),t("th",{class:"text-right"},"Percentage")],-1),ht={class:"text-right"},mt={class:"text-right"},pt=t("thead",null,[t("tr",null,[t("th",{class:"w-2 text-left"},"#"),t("th",{class:"w-1/4 text-left"},"Candidate"),t("th",{class:"text-right"},"Votes"),t("th",{class:"text-right"},"Percentage")])],-1),xt={class:"text-right"},ft={class:"text-right"},gt={key:0},vt=t("td",{class:"font-semibold text-right pr-20 text-lg",colspan:"2"}," Total ",-1),bt={class:"font-semibold text-lg text-right"},yt=t("td",{class:"font-semibold text-lg text-right"}," 100% ",-1),Tt=t("div",{class:"divider"},null,-1),Pt={__name:"Results",setup(kt){const i=P(),T=new Date().toLocaleDateString("en-PH");function g(d,_){return(100*d/_).toFixed(2)}function y(d){return d.sort((_,m)=>{let n=parseInt(_.total_votes),p=parseInt(m.total_votes);return n<p?1:n>p?-1:0}),d}function c(d){return d.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",")}function k(){let _=0;const m=document.querySelectorAll(".print-content");for(let n=0;n<m.length;n++){let p=m[n].offsetHeight;n==0&&(p-=400),_>1024&&(m[n].classList.add("break-page"),_=0),_+=p}return setTimeout(function(){window.print()},500),!1}const w=C([]);return(d,_)=>{const m=E("mdicon");return s(),o(h,null,[t("div",D,[t("div",I,[S,t("div",V,[t("table",B,[t("tr",null,[O,t("td",A,e(l(T)),1)]),t("tr",null,[L,t("td",M,e(l(i).report_level),1)]),l(i).report_level=="municipality"?(s(),o("tr",H,[j,t("td",F,e(l(i).municipality.join(", ")),1)])):u("",!0),t("tr",null,[z,t("td",U,e(l(i).position.join(", ")),1)])])]),Y]),t("div",q,[(s(!0),o(h,null,f(l(i).result,(n,p)=>(s(),o("div",{key:p,ref_for:!0,ref_key:"tableContainer",ref:w,class:"print-content"},[t("h3",G,e(n.municipality),1),l(i).report_level=="barangay"?(s(),o("div",J,[x(" Barangay: "),t("span",W,e(n.barangay),1)])):u("",!0),l(i).report_level=="district"?(s(),o("div",K,[x(" District: "),t("span",Q,e(l(i).district),1)])):u("",!0),t("div",X,[x(" Registered Voters: "),n.result.stats?(s(),o("span",Z,e(c(n.result.stats[0].reg_voters)),1)):u("",!0)]),t("div",$,[x(" Total Turnout: "),n.result?(s(),o("span",tt,e(c(n.result.stats[0].total_turnout)),1)):u("",!0)]),t("div",et,[x(" Turnout Percentage: "),n.result?(s(),o("span",st,e(g(n.result.stats[0].total_turnout,n.result.stats[0].reg_voters))+"%",1)):u("",!0)]),t("div",ot,[x(" JPM Members: "),l(i).jpm_summary?(s(),o("span",nt,e(c(l(i).jpm_summary.total_members)),1)):u("",!0)]),(s(!0),o(h,null,f(n.result.turnouts,(a,wt)=>(s(),o("div",lt,[t("p",it,e(a.position),1),t("table",at,[l(i).report_level=="province"&&(a.position=="CONGRESSMAN"||a.position=="BOARD MEMBER")?(s(!0),o(h,{key:0},f(a.district,(r,v)=>(s(),o(h,null,[t("thead",null,[t("tr",null,[t("th",rt,"District "+e(r.id),1)]),t("tr",null,[t("th",ct,[t("p",dt," Registered Voters: "+e(c(r.reg_voters)),1),t("p",_t," Total Turnout: "+e(c(r.total_turnout)),1)])]),ut]),t("tbody",null,[(s(!0),o(h,null,f(y(r.candidates),(b,R)=>(s(),o("tr",null,[t("td",null,e(R+1)+".",1),t("td",null,e(b.candidate_name),1),t("td",ht,e(c(b.total_votes)),1),t("td",mt,e(g(b.total_votes,r.position_total_votes))+"% ",1)]))),256))])],64))),256)):(s(),o(h,{key:1},[pt,t("tbody",null,[(s(!0),o(h,null,f(y(a.candidates),(r,v)=>(s(),o("tr",{key:v,class:"border-b"},[t("td",null,e(v+1)+".",1),t("td",null,e(r.candidate_name),1),t("td",xt,e(c(r.total_votes)),1),t("td",ft,e(g(r.total_votes,a.position_total_votes))+"% ",1)]))),128))]),t("tfoot",null,[a.position!="SENATOR"&&a.position!="BOARD MEMBER"&&a.position!="COUNCILOR"&&a.position!="PARTY LIST"?(s(),o("tr",gt,[vt,t("td",bt,e(c(a.position_total_votes)),1),yt])):u("",!0)])],64))]),Tt]))),256))]))),128))])]),t("button",{title:"Print",onClick:k,class:"no-print fixed z-90 bottom-10 right-8 bg-red-400 w-20 h-20 rounded-full drop-shadow-lg flex justify-center items-center text-white text-4xl hover:bg-green-400 hover:drop-shadow-2xl hover:animate-bounce duration-300"},[N(m,{name:"printer",size:"40"})])],64)}}};export{Pt as default};
